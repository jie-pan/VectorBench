<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />
<title>Simd Library Documentation.</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body><table align="center" cellpadding="12" cellspacing="0" width="1024"><tr><td>
<center>
<img width="200" height="100" src="../logo.png">
<h1>Simd Library Documentation.</h1>
<a href="../index.html">Home</a> |
<a href="../2017.html">Release Notes</a> | 
<a href="../download.html">Download</a> |  
<a href="index.html">Documentation</a> |  
<a href="http://sourceforge.net/p/simd/discussion/english/" target="_top">Forum</a> |  
<a href="http://sourceforge.net/projects/simd/?source=directory" target="_top">SourceForge</a> |
<a href="http://github.com/ermig1979/Simd" target="_top">GitHub</a> 
</center>
</td></tr>
<tr><td>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Simd Library Overview</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock">The <b>Simd Library</b> is a free open source image processing library, designed for C and C++ programmers. It provides many useful high performance algorithms for image processing such as: pixel format conversion, image scaling and filtration, extraction of statistic information from images, motion detection, object detection (HAAR and LBP classifier cascades) and classification, neural network.<br />
<br />
 The algorithms are optimized with using of different SIMD CPU extensions. In particular the library supports following CPU extensions: SSE, SSE2, SSE3, SSSE3, SSE4.1, SSE4.2, AVX and AVX2 for x86/x64, VMX(Altivec) and VSX(Power7) for PowerPC, NEON for ARM.<br />
<br />
 The Simd Library has C API and also contains useful C++ classes and functions to facilitate access to C API. The library supports dynamic and static linking, 32-bit and 64-bit Windows and Linux, MSVS, G++ and Clang compilers, MSVS project and CMake build systems.<h1><a class="anchor" id="s1"></a>
Library folder's structure</h1>
<p>The Simd Library has next folder's structure:</p><ul>
<li><code>simd/src/Simd/</code> - contains source codes of the library.</li>
<li><code>simd/src/Test/</code> - contains test framework of the library.</li>
<li><code>simd/prj/vs14/</code> - contains project files of Microsoft Visual Studio 2015.</li>
<li><code>simd/prj/cmd/</code> - contains additional scripts needed for building of the library in Windows.</li>
<li><code>simd/prj/cmake/</code> - contains files of CMake build systems.</li>
<li><code>simd/prj/sh/</code> - contains additional scripts needed for building of the library in Linux.</li>
<li><code>simd/prj/txt/</code> - contains text files needed for building of the library.</li>
<li><code>simd/data/cascade/</code> - contains OpenCV cascades (HAAR and LBP).</li>
<li><code>simd/data/image/</code> - contains image samples.</li>
<li><code>simd/data/network/</code> - contains examples of trained networks.</li>
<li><code>simd/doc/</code> - contains documentation of the library.</li>
<li><code>simd/doc/src/</code> - contains scripts for generation of this documentation by <a href="http://www.doxygen.org">doxygen</a>.</li>
</ul>
<h1><a class="anchor" id="s2"></a>
The library building for Windows</h1>
<p>To build the library and test application for Windows 32/64 you need to use Microsoft Visual Studio 2015. These project files are in the directory: <code>simd/prj/vs14/</code>. <br />
 By default the library is built as a DLL (Dynamic Linked Library). You also may build it as a static library. To do this you must change appropriate property (Configuration Type) of <b>Simd</b> project and also uncomment #define SIMD_STATIC in file: <code>simd/src/Simd/SimdConfig.h</code>.</p>
<h1><a class="anchor" id="s3"></a>
The library building for Linux</h1>
<p>To build the library and test application for Linux 32/64 you need to use CMake build systems. Files of CMake build systems are placed in the directory: <code>simd/prj/cmake/</code>. The library can be built for x86/x64, PowerPC(64) and ARM(32/64) platforms with using of G++ or Clang compilers. With using of native compiler (g++) for current platform it is simple: </p><div class="fragment"><div class="line">cd ./prj/cmake</div>
<div class="line">cmake . -DTOOLCHAIN=<span class="stringliteral">&quot;&quot;</span> -DTARGET=<span class="stringliteral">&quot;&quot;</span></div>
<div class="line">make</div>
</div><!-- fragment --><p> To build the library for PowePC(64) and ARM(32/64) platforms you can also use toolchain for cross compilation. There is an example of using for PowerPC (64 bit): </p><div class="fragment"><div class="line">cd ./prj/cmake</div>
<div class="line">cmake . -DTOOLCHAIN=<span class="stringliteral">&quot;/path_to_your_toolchain/usr/bin/powerpc-linux-g++&quot;</span> -DTARGET=<span class="stringliteral">&quot;ppc64&quot;</span> -DCMAKE_BUILD_TYPE=<span class="stringliteral">&quot;Release&quot;</span></div>
<div class="line">make</div>
</div><!-- fragment --><p> For ARM (32 bit): </p><div class="fragment"><div class="line">cd ./prj/cmake</div>
<div class="line">cmake . -DTOOLCHAIN=<span class="stringliteral">&quot;/path_to_your_toolchain/usr/bin/arm-linux-gnueabihf-g++&quot;</span> -DTARGET=<span class="stringliteral">&quot;arm&quot;</span> -DCMAKE_BUILD_TYPE=<span class="stringliteral">&quot;Release&quot;</span></div>
<div class="line">make</div>
</div><!-- fragment --><p> And for ARM (64 bit): </p><div class="fragment"><div class="line">cd ./prj/cmake</div>
<div class="line">cmake . -DTOOLCHAIN=<span class="stringliteral">&quot;/path_to_your_toolchain/usr/bin/aarch64-linux-gnu-g++&quot;</span> -DTARGET=<span class="stringliteral">&quot;aarch64&quot;</span> -DCMAKE_BUILD_TYPE=<span class="stringliteral">&quot;Release&quot;</span></div>
<div class="line">make</div>
</div><!-- fragment --><p> As result the library and the test application will be built in the current directory.</p>
<h1><a class="anchor" id="s4"></a>
The library using</h1>
<p>If you use the library from C code you must include: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;Simd/SimdLib.h&quot;</span></div>
</div><!-- fragment --><p>And to use the library from C++ code you must include: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;Simd/SimdLib.hpp&quot;</span></div>
</div><!-- fragment --><p>In order to use <a class="el" href="struct_simd_1_1_detection.html" title="The Detection structure provides object detection with using of HAAR and LBP cascade classifiers...">Simd::Detection</a> you must include: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;Simd/SimdDetection.hpp&quot;</span></div>
</div><!-- fragment --><h1><a class="anchor" id="s5"></a>
Test Framework</h1>
<p>The test suite is needed for testing of correctness of work of the library and also for its performance testing. There is a set of tests for every function from API of the library. There is an example of test application using: </p><div class="fragment"><div class="line">./Test -m=a -t=1 -f=Sobel -o=log.txt</div>
</div><!-- fragment --><p> Where next parameters were used:</p><ul>
<li><code>-m=a</code> - a auto checking mode which includes performance testing (only for library built in Release mode). In this case different implementations of each functions will be compared between themselves (for example a scalar implementation and implementations with using of different SIMD instructions such as SSE2, AVX2, and other). Also it can be -m=c (creation of test data for cross-platform testing), -m=v (cross-platform testing with using of early prepared test data) and -m=s (running of special tests).</li>
<li><code>-t=1</code> - a number of used threads (every thread runs all tests) for simulation of multi-thread loading.</li>
<li><code>-f=Sobel</code> - a filter. In current case will be tested only functions which contain word 'Sobel' in their names. If you miss this parameter then full testing will be performed. You can use several filters - function name has to satisfy at least one of them.</li>
<li><code>-o=log.txt</code> - a file name with test report. The test's report also will be output to console.</li>
</ul>
<p>Also you can use parameters:</p><ul>
<li><code>-h</code> or -? in order to print help message.</li>
<li><code>-r=</code>../.. to set project root directory.</li>
<li><code>-pa=1</code> to print alignment statistics. </li>
</ul>
</div></div><!-- contents -->
</td> </tr> </table>
</body>
</html>
